</main>
<footer class="relative mt-20">
    <div class="absolute top-0 left-0 right-0 -translate-y-full overflow-hidden">
        <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto"
            preserveAspectRatio="none">
            <path
                d="M0 120L60 110C120 100 240 80 360 70C480 60 600 60 720 65C840 70 960 80 1080 85C1200 90 1320 90 1380 90L1440 90V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z"
                class="fill-gray-100 dark:fill-gray-900" />
        </svg>
    </div>

    <div class="bg-gray-100 dark:bg-gray-900 pt-12 pb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="mb-8">
                <a href="/" class="inline-block mb-4">
                    <img src="<%= config.app_logo %>" alt="Brand" class="h-8 w-auto dark:invert">
                </a>
                <p class="text-gray-600 dark:text-gray-400 max-w-md text-sm leading-relaxed mb-6">
                    Platform top up game dan layanan digital terpercaya dengan proses cepat dan harga terjangkau.
                    Nikmati kemudahan bertransaksi kapan saja.
                </p>
                <div class="flex items-center gap-4">
                    <a href="https://www.instagram.com/<%= config.media.instagram %>" target="_blank"
                        rel="noopener noreferrer" aria-label="Instagram"
                        class="p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:text-pink-500 dark:hover:text-pink-400 hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.919-.058-1.265-.07-1.644-.07-4.849 0-3.204.012-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.849 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.849 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
                        </svg>
                    </a>
                    <a href="https://wa.me/<%= config.media.whatsapp%>" target="_blank" rel="noopener noreferrer"
                        aria-label="WhatsApp"
                        class="p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:text-green-500 dark:hover:text-green-400 hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z" />
                        </svg>
                    </a>
                    <a href="https://facebook.com/<%= config.media.facebook %>" target="_blank"
                        rel="noopener noreferrer" aria-label="Facebook"
                        class="p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385h-3.047v-3.47h3.047v-2.642c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953h-1.514c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385c5.737-.9 10.125-5.864 10.125-11.854z" />
                        </svg>
                    </a>
                </div>
            </div>

            <hr class="border-gray-200 dark:border-gray-700 mb-8">

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-8">
                <div>
                    <h3 class="text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider mb-4">
                        Peta Situs</h3>
                    <ul class="space-y-3">
                        <li>
                            <a href="/"
                                class="text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors text-sm">Beranda</a>
                        </li>
                        <li>
                            <button type="button" id="invoice-toggle"
                                class="text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors text-sm text-left">
                                Invoice
                            </button>
                        </li>
                        <li>
                            <a href="/ulasan"
                                class="text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors text-sm">Ulasan</a>
                        </li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider mb-4">
                        Dukungan</h3>
                    <a href="https://wa.me/<%= config.media.whatsapp %>?text=<%= config.media.pesan_wa.replace(/\s/g, '%20') %>"
                        target="_blank" rel="noopener noreferrer"
                        class="inline-flex items-center gap-2 px-4 py-2.5 bg-green-500 hover:bg-green-600 text-white font-medium text-sm rounded-lg shadow-sm hover:shadow-md transition-all focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z" />
                        </svg>
                        Hubungi via WhatsApp
                    </a>
                </div>
            </div>

            <div class="mt-8 pt-6 border-t border-gray-200 dark:border-gray-700">
                <p class="text-center text-xs text-gray-500 dark:text-gray-500">
                    &copy; <%= new Date().getFullYear() %>
                        <%= config.app_name %>. Seluruh hak cipta dilindungi.
                </p>
            </div>
        </div>
    </div>
</footer>

<div id="invoice-overlay"
    class="fixed inset-0 z-[100] bg-black/50 backdrop-blur-sm hidden opacity-0 transition-opacity duration-300">
    <div class="flex items-center justify-center min-h-screen px-4">
        <div id="invoice-modal"
            class="w-full max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 transform scale-95 transition-transform duration-300">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Cek Invoice</h3>
                <button id="invoice-close" type="button"
                    class="p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <div class="space-y-4">
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        </svg>
                    </div>
                    <input id="invoice-input" type="number" placeholder="Masukkan Nomor Invoice"
                        class="w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all">
                </div>
                <button id="invoice-submit" type="button"
                    class="w-full py-3 px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800">
                    Cari Pesanan
                </button>
            </div>
        </div>
    </div>
</div>

<script>
    (function () {
        // --- Theme Toggle Script (Existing) ---
        const html = document.documentElement;
        const themeToggle = document.getElementById('theme-toggle');
        const sunIcon = document.getElementById('theme-icon-sun');
        const moonIcon = document.getElementById('theme-icon-moon');

        function applyTheme(theme) {
            if (theme === 'dark') {
                html.classList.add('dark');
                if (sunIcon) sunIcon.classList.remove('hidden');
                if (moonIcon) moonIcon.classList.add('hidden');
            } else {
                html.classList.remove('dark');
                if (sunIcon) sunIcon.classList.add('hidden');
                if (moonIcon) moonIcon.classList.remove('hidden');
            }
        }

        function getInitialTheme() {
            const stored = localStorage.getItem('theme');
            if (stored === 'dark' || stored === 'light') return stored;
            if (window.matchMedia('(prefers-color-scheme: dark)').matches) return 'dark';
            return 'light';
        }

        const initialTheme = getInitialTheme();
        applyTheme(initialTheme);

        if (themeToggle) {
            themeToggle.addEventListener('click', function () {
                const isDark = html.classList.contains('dark');
                const newTheme = isDark ? 'light' : 'dark';
                localStorage.setItem('theme', newTheme);
                applyTheme(newTheme);
            });
        }

        // --- Search Overlay Script (Existing) ---
        const searchToggle = document.getElementById('search-toggle');
        const searchOverlay = document.getElementById('search-overlay');
        const searchModal = document.getElementById('search-modal');
        const searchClose = document.getElementById('search-close');
        const searchInput = document.getElementById('search-input');

        if (searchToggle && searchOverlay) {
            function openSearch() {
                searchOverlay.classList.remove('hidden');
                requestAnimationFrame(function () {
                    searchOverlay.classList.remove('opacity-0');
                    searchModal.classList.remove('scale-95');
                    searchModal.classList.add('scale-100');
                    if (searchInput) searchInput.focus();
                });
            }

            function closeSearch() {
                searchOverlay.classList.add('opacity-0');
                searchModal.classList.remove('scale-100');
                searchModal.classList.add('scale-95');
                setTimeout(function () {
                    searchOverlay.classList.add('hidden');
                }, 300);
            }

            searchToggle.addEventListener('click', openSearch);
            if (searchClose) searchClose.addEventListener('click', closeSearch);

            searchOverlay.addEventListener('click', function (e) {
                if (e.target === searchOverlay) closeSearch();
            });

            document.addEventListener('keydown', function (e) {
                if (e.key === 'Escape' && !searchOverlay.classList.contains('hidden')) {
                    closeSearch();
                }
            });
        }

        // --- Invoice Modal Script (NEW) ---
        const invoiceToggle = document.getElementById('invoice-toggle');
        const invoiceOverlay = document.getElementById('invoice-overlay');
        const invoiceModal = document.getElementById('invoice-modal');
        const invoiceClose = document.getElementById('invoice-close');
        const invoiceInput = document.getElementById('invoice-input');
        const invoiceSubmit = document.getElementById('invoice-submit');

        if (invoiceToggle && invoiceOverlay) {
            function openInvoice() {
                invoiceOverlay.classList.remove('hidden');
                requestAnimationFrame(function () {
                    invoiceOverlay.classList.remove('opacity-0');
                    invoiceModal.classList.remove('scale-95');
                    invoiceModal.classList.add('scale-100');
                    if (invoiceInput) {
                        invoiceInput.value = ''; // Reset value
                        invoiceInput.focus();
                    }
                });
            }

            function closeInvoice() {
                invoiceOverlay.classList.add('opacity-0');
                invoiceModal.classList.remove('scale-100');
                invoiceModal.classList.add('scale-95');
                setTimeout(function () {
                    invoiceOverlay.classList.add('hidden');
                }, 300);
            }

            function submitInvoice() {
                const value = invoiceInput.value.trim();
                if (value) {
                    window.location.href = '/invoice/' + value;
                } else {
                    // Optional: Tambahkan alert atau efek shake jika kosong
                    invoiceInput.focus();
                }
            }

            // Event Listeners
            invoiceToggle.addEventListener('click', openInvoice);
            if (invoiceClose) invoiceClose.addEventListener('click', closeInvoice);
            if (invoiceSubmit) invoiceSubmit.addEventListener('click', submitInvoice);

            // Close on background click
            invoiceOverlay.addEventListener('click', function (e) {
                // Pastikan yang diklik adalah wrapper flex container, bukan modalnya
                if (e.target === invoiceOverlay || e.target.closest('.flex') === e.target) {
                    closeInvoice();
                }
            });

            // Handle Input Keys
            if (invoiceInput) {
                invoiceInput.addEventListener('keydown', function (e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        submitInvoice();
                    }
                });
            }

            // Close on Escape
            document.addEventListener('keydown', function (e) {
                if (e.key === 'Escape' && !invoiceOverlay.classList.contains('hidden')) {
                    closeInvoice();
                }
            });
        }

    })();
</script>
</body>

</html>